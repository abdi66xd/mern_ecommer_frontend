{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _objectSpread from \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\src\\\\pages\\\\ProductScreenCard.jsx\";\n\nimport React, { useContext, useState } from 'react';\nimport Footer from '../components/Footer';\nimport Navbar from '../components/Navbar';\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\nimport '../styles/productscreencard.css';\nimport { Store } from '../Store';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom'; //import { products } from '../data';\n\nvar ProductScreenCard = function ProductScreenCard(_ref) {\n  var product = _ref.product;\n  var navigate = useNavigate();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedImage = _useState2[0],\n      setSelectedImage = _useState2[1]; //default is empty\n\n\n  var _useContext = useContext(Store),\n      state = _useContext.state,\n      ctxDispatch = _useContext.dispatch;\n\n  var cart = state.cart,\n      wish = state.wish;\n\n  var addToCartHandler = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var existItem, quantity, _yield$axios$get, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              existItem = cart.cartItems.find(function (x) {\n                return x._id === product._id;\n              });\n              quantity = existItem ? existItem.quantity + 1 : 1; //if existItem than quantity + 1 in cart if not than 1\n              //this you can put but you don’t have to\n\n              _context.next = 4;\n              return axios.get(\"/api/products/slug/\".concat(product.slug));\n\n            case 4:\n              _yield$axios$get = _context.sent;\n              data = _yield$axios$get.data;\n\n              if (!(data.countInStock < quantity)) {\n                _context.next = 9;\n                break;\n              }\n\n              window.alert('Sorry. Product is out of stock.');\n              return _context.abrupt(\"return\");\n\n            case 9:\n              ctxDispatch({\n                type: 'CART_ADD_ITEM',\n                payload: _objectSpread({}, product, {\n                  quantity: quantity\n                })\n              });\n              navigate('/cart');\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function addToCartHandler() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var addToWishHandler = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var existItem, quantity;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              existItem = wish.wishItems.find(function (x) {\n                return x._id === product._id;\n              });\n              quantity = existItem ? existItem.quantity : 1; //const { data } = await axios.get(`/api/products/slug/${product.slug}`);\n\n              if (!existItem) {\n                _context2.next = 5;\n                break;\n              }\n\n              window.alert('Sorry. You have already added the product to your wish list.');\n              return _context2.abrupt(\"return\");\n\n            case 5:\n              ctxDispatch({\n                type: 'WISH_ADD_ITEM',\n                payload: _objectSpread({}, product, {\n                  quantity: quantity\n                })\n              });\n              navigate('/wish');\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function addToWishHandler() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"screen-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"screen-row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"screen-col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"screen-images\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"screen-top\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TransformWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(TransformComponent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: selectedImage || product.image,\n    alt: product.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 37\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"screen-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: product.image,\n    onClick: function onClick() {\n      return setSelectedImage(\"\".concat(product.image));\n    },\n    alt: product.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: product.image1,\n    onClick: function onClick() {\n      return setSelectedImage(\"\".concat(product.image1));\n    },\n    alt: product.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: product.image2,\n    onClick: function onClick() {\n      return setSelectedImage(\"\".concat(product.image2));\n    },\n    alt: product.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: product.image3,\n    onClick: function onClick() {\n      return setSelectedImage(\"\".concat(product.image3));\n    },\n    alt: product.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"screen-col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"first-div div\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, product.title), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"category\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, product.category)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"second-div div\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"price\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, \"Price: $\", product.price), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"quantity\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, \"Quantity: 1\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"third-div div\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"desc\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, product.desc)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fourth-div div\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, product.countInStock === 0 ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"cart cart-out\",\n    disabled: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }, \"Out of stock\") : /*#__PURE__*/React.createElement(\"button\", {\n    className: \"cart\",\n    onClick: addToCartHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }, \"Add to Cart\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"wish\",\n    onClick: addToWishHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, \"Add to Wish\"))))), /*#__PURE__*/React.createElement(Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default ProductScreenCard;","map":{"version":3,"sources":["D:/tutos/Mern_shop/frontend/src/pages/ProductScreenCard.jsx"],"names":["React","useContext","useState","Footer","Navbar","TransformWrapper","TransformComponent","Store","axios","useNavigate","ProductScreenCard","product","navigate","selectedImage","setSelectedImage","state","ctxDispatch","dispatch","cart","wish","addToCartHandler","existItem","cartItems","find","x","_id","quantity","get","slug","data","countInStock","window","alert","type","payload","addToWishHandler","wishItems","image","title","image1","image2","image3","category","price","desc"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport Footer from '../components/Footer'\r\nimport Navbar from '../components/Navbar'\r\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\r\nimport '../styles/productscreencard.css'\r\nimport { Store } from '../Store';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n//import { products } from '../data';\r\n\r\nconst ProductScreenCard = ({product}) => {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const [selectedImage, setSelectedImage] = useState(''); //default is empty\r\n\r\n    const { state, dispatch: ctxDispatch } = useContext(Store);\r\n    const {cart, wish} = state;\r\n    const addToCartHandler = async () => {\r\n        const existItem = cart.cartItems.find((x) => x._id === product._id);\r\n        const quantity = existItem ? existItem.quantity + 1 : 1; //if existItem than quantity + 1 in cart if not than 1\r\n        \r\n        //this you can put but you don’t have to\r\n        const { data } = await axios.get(`/api/products/slug/${product.slug}`);\r\n        if (data.countInStock < quantity) {\r\n            window.alert('Sorry. Product is out of stock.');\r\n            return;\r\n        }\r\n\r\n        ctxDispatch({\r\n        type: 'CART_ADD_ITEM',\r\n        payload: { ...product, quantity },\r\n        });\r\n\r\n        navigate('/cart');\r\n    };\r\n\r\n    const addToWishHandler = async () => {\r\n\r\n        const existItem = wish.wishItems.find((x) => x._id === product._id);\r\n        const quantity = existItem ? existItem.quantity : 1;\r\n        \r\n        //const { data } = await axios.get(`/api/products/slug/${product.slug}`);\r\n        if (existItem) {\r\n            window.alert('Sorry. You have already added the product to your wish list.');\r\n            return;\r\n        }\r\n        \r\n        ctxDispatch({\r\n          type: 'WISH_ADD_ITEM',\r\n          payload: { ...product, quantity},\r\n          });\r\n\r\n        navigate('/wish');\r\n    }\r\n\r\n  return (\r\n    <>\r\n        <Navbar />\r\n        <div className='screen-container'>\r\n            <div className=\"screen-row\">\r\n                <div className=\"screen-col\">\r\n                    <div className=\"screen-images\">\r\n                        <div className=\"screen-top\">\r\n                            <TransformWrapper>\r\n                                <TransformComponent>\r\n                                    <img src={selectedImage || product.image} alt={product.title} />\r\n                                </TransformComponent>\r\n                            </TransformWrapper>\r\n                            {/*<img src={selectedImage || product.image} alt={product.title} />*/}\r\n                        </div>\r\n                        <div className=\"screen-bottom\">\r\n                            <img src={product.image} onClick={() => setSelectedImage(`${product.image}`)} alt={product.title} />\r\n                            <img src={product.image1} onClick={() => setSelectedImage(`${product.image1}`)} alt={product.title} />\r\n                            <img src={product.image2} onClick={() => setSelectedImage(`${product.image2}`)} alt={product.title} />\r\n                            <img src={product.image3} onClick={() => setSelectedImage(`${product.image3}`)} alt={product.title} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"screen-col\">\r\n                    <div className=\"first-div div\">\r\n                        <h2 className='title'>{product.title}</h2>\r\n                        <p className='category'>{product.category}</p>\r\n                    </div>\r\n                    <div className=\"second-div div\">\r\n                        <span className=\"price\">Price: ${product.price}</span>\r\n                        <div className=\"quantity\">Quantity: 1</div>\r\n                    </div>\r\n                    <div className=\"third-div div\">\r\n                        <p className=\"desc\">{product.desc}</p>\r\n                    </div>\r\n                    <div className=\"fourth-div div\">\r\n                        {product.countInStock === 0 ? (\r\n                            <button className='cart cart-out' disabled >Out of stock</button>\r\n                            ) : (\r\n                            <button className='cart' onClick={addToCartHandler}>Add to Cart</button>)\r\n                        }\r\n                        <button className='wish' onClick={addToWishHandler}>Add to Wish</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <Footer />\r\n    </>\r\n    \r\n  )\r\n}\r\n\r\nexport default ProductScreenCard\r\n"]},"metadata":{},"sourceType":"module"}