{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\src\\\\pages\\\\Payment.jsx\";\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport CheckoutSteps from '../components/CheckoutSteps';\nimport Footer from '../components/Footer';\nimport Navbar from '../components/Navbar';\nimport { Store } from '../Store';\nimport '../styles/payment.css';\n\nvar Payment = function Payment() {\n  var navigate = useNavigate();\n\n  var _useContext = useContext(Store),\n      state = _useContext.state,\n      ctxDispatch = _useContext.dispatch;\n\n  var _state$cart = state.cart,\n      shippingAddress = _state$cart.shippingAddress,\n      paymentMethod = _state$cart.paymentMethod;\n\n  var _useState = useState(paymentMethod || 'Cash'),\n      _useState2 = _slicedToArray(_useState, 2),\n      paymentMethodName = _useState2[0],\n      setPaymentMethod = _useState2[1];\n\n  useEffect(function () {\n    if (!shippingAddress.address) {\n      navigate('/shipping');\n    }\n  }, [shippingAddress, navigate]);\n\n  var submitHandler = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              ctxDispatch({\n                type: 'SAVE_PAYMENT_METHOD',\n                payload: paymentMethodName\n              });\n              localStorage.setItem('paymentMethod', paymentMethodName);\n              navigate('/placeorder');\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function submitHandler(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"payment-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 25\n    }\n  }, \"Payment Method\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CheckoutSteps, {\n    step1: true,\n    step2: true,\n    step3: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"cash\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 33\n    }\n  }, \"Cash\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"Cash\",\n    checked: paymentMethodName === 'Cash',\n    className: \"radio\",\n    name: \"\",\n    id: \"cash\",\n    onChange: function onChange(e) {\n      return setPaymentMethod(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 33\n    }\n  }, \"Continue\")))))), /*#__PURE__*/React.createElement(Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Payment;","map":{"version":3,"sources":["D:/tutos/Mern_shop/frontend/src/pages/Payment.jsx"],"names":["React","useContext","useEffect","useState","useNavigate","CheckoutSteps","Footer","Navbar","Store","Payment","navigate","state","ctxDispatch","dispatch","cart","shippingAddress","paymentMethod","paymentMethodName","setPaymentMethod","address","submitHandler","e","preventDefault","type","payload","localStorage","setItem","target","value"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport Footer from '../components/Footer'\r\nimport Navbar from '../components/Navbar'\r\nimport { Store } from '../Store'\r\nimport '../styles/payment.css'\r\n\r\nconst Payment = () => {\r\n\r\n    const navigate = useNavigate();\r\n    const { state, dispatch: ctxDispatch } = useContext(Store);\r\n    const {\r\n        cart: { shippingAddress, paymentMethod },\r\n    } = state;\r\n\r\n    const [paymentMethodName, setPaymentMethod] = useState(\r\n        paymentMethod || 'Cash'\r\n      );\r\n\r\n    useEffect(() => {\r\n        if (!shippingAddress.address) {\r\n        navigate('/shipping');\r\n        }\r\n    }, [shippingAddress, navigate]);\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n\r\n        ctxDispatch({ type: 'SAVE_PAYMENT_METHOD', payload: paymentMethodName });\r\n        localStorage.setItem('paymentMethod', paymentMethodName);\r\n        navigate('/placeorder');\r\n    }\r\n\r\n  return (\r\n    <>\r\n        <Navbar />\r\n            <div className=\"payment-container\">\r\n                <div className=\"payment-row\">\r\n                    <div className=\"payment-col\">\r\n                        <h2 className='payment-title'>Payment Method</h2>\r\n                    </div>\r\n                    <div className=\"payment-col\">\r\n                        <CheckoutSteps step1 step2 step3 ></CheckoutSteps>\r\n                    </div>\r\n                </div>\r\n                <div className=\"payment-row\">\r\n                    <div className=\"payment-col\">\r\n                        <form onSubmit={submitHandler}>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"cash\">Cash</label>\r\n                                <input type=\"radio\" value=\"Cash\" checked={paymentMethodName === 'Cash'} className='radio' name=\"\" id=\"cash\" onChange={(e) => setPaymentMethod(e.target.value)} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <button type=\"submit\">Continue</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Payment"]},"metadata":{},"sourceType":"module"}