{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\src\\\\components\\\\Slider.jsx\";\n\nimport { faArrowCircleLeft, faArrowCircleRight } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport '../styles/slider.css';\nimport React, { useEffect, useReducer, useState } from 'react'; //import { sliderItems } from '../data'\n\nimport axios from 'axios';\nimport logger from 'use-reducer-logger';\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return _objectSpread({}, state, {\n        loading: true\n      });\n\n    case 'FETCH_SUCCESS':\n      return _objectSpread({}, state, {\n        slider: action.payload,\n        loading: false\n      });\n\n    case 'FETCH_FAIL':\n      return _objectSpread({}, state, {\n        loading: false,\n        error: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar Slider = function Slider() {\n  var _useReducer = useReducer(logger(reducer), {\n    slider: [],\n    loading: true,\n    error: ''\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      _useReducer2$ = _useReducer2[0],\n      loading = _useReducer2$.loading,\n      error = _useReducer2$.error,\n      slider = _useReducer2$.slider,\n      dispatch = _useReducer2[1];\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      slideIndex = _useState2[0],\n      setSlideIndex = _useState2[1];\n\n  var handleClick = function handleClick(direction) {\n    if (direction === \"left\") {\n      setSlideIndex(slideIndex > 0 ? slideIndex - 1 : 2); //2 is last image\n    } else {\n      setSlideIndex(slideIndex < 2 ? slideIndex + 1 : 0); // 0 is first image\n    }\n  }; //const [slider, setSlider] = useState([]); //default is empty database or json, no sliders\n\n\n  useEffect(function () {\n    var fetchData = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                dispatch({\n                  type: 'FETCH_REQUEST'\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return axios.get('/api/slider');\n\n              case 4:\n                result = _context.sent;\n                dispatch({\n                  type: 'FETCH_SUCCESS',\n                  payload: result.data\n                });\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                dispatch({\n                  type: 'FETCH_FAIL',\n                  payload: _context.t0.message\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"s-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"s-arrow left\",\n    onClick: function onClick() {\n      return handleClick(\"left\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faArrowCircleLeft,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper\",\n    slideIndex: slideIndex,\n    style: {\n      transform: \"translateX(\".concat(slideIndex * -100, \"vw)\")\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"loading\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 23\n    }\n  }, \"Loading...\") : error ? /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"error\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 75\n    }\n  }, error) : slider.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"slide\",\n      key: item._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"img-container\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.image,\n      className: \"s-img\",\n      alt: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    })));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"s-arrow right\",\n    onClick: function onClick() {\n      return handleClick(\"right\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faArrowCircleRight,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default Slider;","map":{"version":3,"sources":["D:/tutos/Mern_shop/frontend/src/components/Slider.jsx"],"names":["faArrowCircleLeft","faArrowCircleRight","FontAwesomeIcon","React","useEffect","useReducer","useState","axios","logger","reducer","state","action","type","loading","slider","payload","error","Slider","dispatch","slideIndex","setSlideIndex","handleClick","direction","fetchData","get","result","data","message","transform","map","item","_id","image"],"mappings":"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","sourcesContent":["import { faArrowCircleLeft, faArrowCircleRight } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport '../styles/slider.css'\r\nimport React, { useEffect, useReducer, useState } from 'react'\r\n//import { sliderItems } from '../data'\r\nimport axios from 'axios'\r\nimport logger from 'use-reducer-logger'\r\n\r\nconst reducer = (state, action) => {\r\n  switch(action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return {...state, loading: true};\r\n    case 'FETCH_SUCCESS':\r\n      return {...state, slider: action.payload, loading: false};\r\n    case 'FETCH_FAIL':\r\n      return {...state, loading: false, error: action.payload};\r\n      default:\r\n        return state;\r\n  }\r\n}\r\n\r\nconst Slider = () => {\r\n\r\n  const [{loading, error, slider}, dispatch] = useReducer(logger(reducer), {\r\n    slider: [],\r\n    loading: true,\r\n    error: ''\r\n  });\r\n\r\n  const [slideIndex, setSlideIndex] = useState(0);\r\n\r\n  const handleClick = (direction) => {\r\n\r\n    if(direction === \"left\") {\r\n      setSlideIndex(slideIndex > 0 ? slideIndex - 1 : 2) //2 is last image\r\n    } else {\r\n      setSlideIndex(slideIndex < 2 ? slideIndex + 1 : 0) // 0 is first image\r\n    }\r\n\r\n  }\r\n\r\n  //const [slider, setSlider] = useState([]); //default is empty database or json, no sliders\r\n\r\n  useEffect(() => {\r\n\r\n    const fetchData = async () => {\r\n      dispatch({type: 'FETCH_REQUEST'});\r\n      try {\r\n        const result = await axios.get('/api/slider');\r\n        dispatch({type: 'FETCH_SUCCESS', payload: result.data});\r\n      } catch(err) {\r\n        dispatch({type: 'FETCH_FAIL', payload: err.message});\r\n      }\r\n      \r\n      //setSlider(result.data);\r\n    }\r\n    fetchData();\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <div className='s-container'>\r\n      <div className=\"s-arrow left\" onClick={() => handleClick(\"left\")}>\r\n          <FontAwesomeIcon icon={faArrowCircleLeft} />\r\n      </div>\r\n      <div className=\"wrapper\" slideIndex={slideIndex} style={{transform: `translateX(${slideIndex * -100}vw)`}}>\r\n          {loading ? (<h1 className='loading'>Loading...</h1>) : error ? (<h1 className='error'>{error}</h1>) : (slider.map((item) => (\r\n            <div className=\"slide\" key={item._id}>\r\n            <div className=\"img-container\">\r\n              <img src={item.image} className='s-img' alt=\"\" />\r\n            </div>\r\n          </div>\r\n          )))}\r\n      </div>\r\n      <div className=\"s-arrow right\" onClick={() => handleClick(\"right\")}>\r\n          <FontAwesomeIcon icon={faArrowCircleRight} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Slider\r\n"]},"metadata":{},"sourceType":"module"}