{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\tutos\\\\Mern_shop\\\\frontend\\\\src\\\\components\\\\ProductsShop.jsx\";\n\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { products } from '../data.js'; //but for now -> is not good\n\nimport '../styles/productsshop.css';\nimport ProductShop from './ProductShop';\nimport ReactPaginate from 'react-paginate';\n\nvar ProductsShop = function ProductsShop() {\n  //for filter category and all products\n  var _useState = useState(products),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1]; //for category\n\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      category = _useState4[0],\n      setCategory = _useState4[1]; //for paginate\n\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      pageNumber = _useState6[0],\n      setPageNumber = _useState6[1];\n\n  var productPerPage = 3;\n  var pagesVisited = pageNumber * productPerPage;\n  var displayProducts = data.slice(pagesVisited, pagesVisited + productPerPage).map(function (item) {\n    return /*#__PURE__*/React.createElement(ProductShop, {\n      item: item,\n      key: item._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }\n    });\n  });\n  var pageCount = Math.ceil(data.length / productPerPage);\n\n  var changePage = function changePage(_ref) {\n    var selected = _ref.selected;\n    setPageNumber(selected); //if i click page number 2 than selected is number 2\n  }; //filter and all products\n\n\n  var filterResult = function filterResult(catItem) {\n    var result = products.filter(function (curDate) {\n      return curDate.category === catItem;\n    });\n    setData(result);\n  }; //for show all category\n\n\n  useEffect(function () {\n    var fetchData = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get('/api/category');\n\n              case 2:\n                result = _context.sent;\n                setCategory(result.data);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function fetchData() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, \"Catgeory\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"shop-btn\",\n    onClick: function onClick() {\n      return setData(products);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"All \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faChevronRight,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 78\n    }\n  })), category.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"button\", {\n      className: \"shop-btn\",\n      onClick: function onClick() {\n        return filterResult(item.title);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, item.title, \" \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faChevronRight,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 98\n      }\n    }));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-products\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, displayProducts), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-pagination\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ReactPaginate, {\n    previousLabel: \"<<\" //for previous\n    ,\n    nextLabel: \">>\" //for next\n    ,\n    pageCount: pageCount //for page number\n    ,\n    onPageChange: changePage //for selected page, current page\n    ,\n    containerClassName: \"paginationBttns\" //class for style\n    ,\n    previousLinkClassName: \"previousBttn\" //class for style\n    ,\n    nextLinkClassName: \"nextBttn\" //class for style\n    ,\n    disabledClassName: \"paginationDisabled\" //class for style\n    ,\n    activeClassName: \"paginationActive\" //class for style\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  })))));\n};\n\nexport default ProductsShop;","map":{"version":3,"sources":["D:/tutos/Mern_shop/frontend/src/components/ProductsShop.jsx"],"names":["faChevronRight","FontAwesomeIcon","axios","React","useEffect","useState","products","ProductShop","ReactPaginate","ProductsShop","data","setData","category","setCategory","pageNumber","setPageNumber","productPerPage","pagesVisited","displayProducts","slice","map","item","_id","pageCount","Math","ceil","length","changePage","selected","filterResult","catItem","result","filter","curDate","fetchData","get","title"],"mappings":"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","sourcesContent":["import { faChevronRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport {products} from '../data.js' //but for now -> is not good\r\nimport '../styles/productsshop.css'\r\nimport ProductShop from './ProductShop'\r\nimport ReactPaginate from 'react-paginate'\r\n\r\n\r\nconst ProductsShop = () => {\r\n\r\n  //for filter category and all products\r\n  const[data, setData] = useState(products);\r\n\r\n  //for category\r\n  const [category, setCategory] = useState([]);\r\n\r\n  //for paginate\r\n  const [pageNumber, setPageNumber] = useState(0);\r\n\r\n  const productPerPage = 3;\r\n\r\n  const pagesVisited = pageNumber * productPerPage;\r\n\r\n  const displayProducts = data.slice(pagesVisited, pagesVisited + productPerPage).map((item) => (\r\n      <ProductShop item={item} key={item._id} />\r\n    ))\r\n\r\n  const pageCount = Math.ceil(data.length / productPerPage);\r\n\r\n  const changePage = ({selected}) => {\r\n    setPageNumber(selected); //if i click page number 2 than selected is number 2\r\n  }\r\n  \r\n\r\n\r\n  //filter and all products\r\n  const filterResult = (catItem) => {\r\n    const result = products.filter((curDate) => {\r\n      return curDate.category === catItem;\r\n    });\r\n    setData(result);\r\n  }\r\n\r\n  //for show all category\r\n  useEffect(() => {\r\n\r\n    const fetchData = async () => {\r\n      const result = await axios.get('/api/category');\r\n      setCategory(result.data);\r\n    }\r\n    fetchData();\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <div className='shop-container'>\r\n      <div className=\"shop-row\">\r\n        <div className=\"shop-col\">\r\n          <h2>Catgeory</h2>\r\n          <button className=\"shop-btn\" onClick={() => setData(products)}>All <FontAwesomeIcon icon={faChevronRight} /></button>\r\n          {/* show all category if exists */}\r\n          {category.map((item) => (\r\n              <button className=\"shop-btn\" onClick={() => filterResult(item.title)}>{item.title} <FontAwesomeIcon icon={faChevronRight} /></button>\r\n          ))}\r\n        </div>\r\n        <div className=\"shop-col\">\r\n          <div className=\"shop-products\">\r\n            {displayProducts}\r\n          </div>\r\n          <div className=\"shop-pagination\">\r\n              <ReactPaginate \r\n                previousLabel={\"<<\"}  //for previous\r\n                nextLabel={\">>\"}  //for next\r\n                pageCount={pageCount} //for page number\r\n                onPageChange={changePage} //for selected page, current page\r\n                containerClassName={\"paginationBttns\"} //class for style\r\n                previousLinkClassName={\"previousBttn\"}  //class for style\r\n                nextLinkClassName={\"nextBttn\"}  //class for style\r\n                disabledClassName={\"paginationDisabled\"}  //class for style\r\n                activeClassName={\"paginationActive\"}  //class for style\r\n              />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductsShop\r\n"]},"metadata":{},"sourceType":"module"}